{% load static %}

<div class="order-table-row">

    <div class="col-id-date">
        <span class="id-text">#{{ order.order_code }}</span>
        <span class="date-text">{{ order.created_at|date:"d M, Y" }}</span>
    </div>

    <div class="col-customer">
        <div class="customer-info">
            <span class="customer-name">{{ order.user.get_full_name|default:order.user.username }}</span>
            <span class="customer-email">{{ order.user.email }}</span>
        </div>
    </div>

    <div class="col-payment">
        <span class="status-badge status-{{ order.status|lower }}">
            {{ order.get_status_display }}
        </span>
    </div>

    <div class="col-fulfillment">
        <span class="status-badge status-{{ order.status|lower }}">
            {% if order.status == 'PENDING' %}
                Aguardando
            {% elif order.status == 'IN_PROGRESS' %}
                Preparando
            {% elif order.status == 'COMPLETED' %}
                Enviado
            {% else %}
                {{ order.get_status_display }}
            {% endif %}
        </span>
    </div>

    <div class="col-total">
        R$ {{ order.get_total_calculado|floatformat:2 }}
    </div>

    <div class="col-actions">
        <a href="{% url 'stores:artisan_order_detail' store.pk order.pk %}"
           class="action-btn"
           title="Ver Detalhes">
            <img src="{% static 'media/icons/search.svg' %}" alt="Ver Detalhes" class="icon-img">
        </a>
    </div>

</div>